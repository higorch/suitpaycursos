@import "tailwindcss";
@import 'overlayscrollbars/overlayscrollbars.css';
@import "choices.js/public/assets/styles/choices.css";
@import "flatpickr/dist/flatpickr.css";

/* =========================
   WRAPPER BASE
========================= */
.suit-choices {
    @apply relative w-full text-[#111827] outline-none;
}

.suit-choices:focus,
.suit-choices *:focus {
    outline: none !important;
    box-shadow: none !important;
}

/* TAMANHO COMPACTO */
.suit-choices.choice-compact,
.suit-choices.choice-compact .choices__inner {
    @apply min-h-10 h-10;
}

.suit-choices.choice-compact .choices__list--single {
    @apply p-0;
}

/* =========================
   CAMPO PRINCIPAL
========================= */
.suit-choices .choices__inner {
    @apply w-full min-h-11.5 rounded-lg border border-[#D1D5DB] bg-white px-4 py-2 text-sm text-[#111827] shadow-sm transition;
}

/* FOCUS FORTE E NÍTIDO */
.suit-choices.is-focused .choices__inner {
    @apply ring-2 ring-[#2CAA2C]/30 border-[#2CAA2C];
}

/* INPUT DIGITÁVEL */
.suit-choices .choices__input {
    @apply w-full m-0 p-1 bg-transparent text-[#111827] placeholder-[#6B7280] outline-none;
}

/* REMOVE SELECT ORIGINAL */
.suit-choices .choices__inner select {
    @apply hidden;
}

/* =========================
   DROPDOWN
========================= */
.suit-choices .choices__list--dropdown {
    @apply mt-2 rounded-md border border-[#D1D5DB]! bg-white text-[#111827] shadow-xl overflow-hidden z-50;
}

/* ITEM */
.suit-choices .choices__list--dropdown .choices__item {
    @apply px-4 py-2 text-sm cursor-pointer transition;
}

/* HOVER MAIS VISÍVEL */
.suit-choices .choices__list--dropdown .choices__item--selectable.is-highlighted {
    @apply bg-[#2CAA2C]/15 text-[#1E7F1E];
}

/* DISABLED */
.suit-choices .choices__item--disabled {
    @apply opacity-40 cursor-not-allowed;
}

/* =========================
   SELECT ONE TEXTO
========================= */
.suit-choices .choices__list--single .choices__item {
    @apply text-sm text-[#111827] pr-10 whitespace-nowrap overflow-hidden text-ellipsis;
}

/* =========================
   MULTI SELECT TAGS
========================= */
.suit-choices .choices__list--multiple .choices__item {
    @apply bg-[#2CAA2C]/15 text-[#1E7F1E] border border-[#2CAA2C]/40 rounded-md px-2 py-1 text-xs mr-1 mb-1;
}

/* BOTÃO REMOVER TAG */
.suit-choices .choices__list--multiple .choices__item .choices__button {
    @apply ml-1 text-[#6B7280] hover:text-[#DC2626] transition;
}

/* PLACEHOLDER */
.suit-choices .choices__placeholder {
    @apply text-[#6B7280];
}

/* DISABLED STATE */
.suit-choices.is-disabled .choices__inner,
.suit-choices.is-disabled .choices__placeholder,
.suit-choices.is-disabled .choices__item--selectable {
    @apply opacity-40 cursor-not-allowed;
}

/* SETA */
.suit-choices[data-type*="select-one"]::after {
    @apply absolute right-4 top-1/2 -translate-y-1/2 text-[#4B5563] pointer-events-none;
    content: "▾";
}

/* BOTÃO LIMPAR */
.suit-choices[data-type*="select-one"] .choices__button {
    @apply absolute right-8 top-1/2 indent-0! overflow-visible! text-[0px] bg-no-repeat bg-center -translate-y-1/2 w-4 h-4 cursor-pointer opacity-70 hover:opacity-100 transition;
    background-size: 16px 16px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%234B5563' stroke-width='2' stroke-linecap='round'%3E%3Cpath d='M6 6l8 8M14 6l-8 8'/%3E%3C/svg%3E");
}
.suit-choices[data-type*="select-one"] .choices__button:hover {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%23DC2626' stroke-width='2' stroke-linecap='round'%3E%3Cpath d='M6 6l8 8M14 6l-8 8'/%3E%3C/svg%3E");
}

.suit-choices[data-type*="select-one"] .choices__placeholder .choices__button {
    @apply hidden;
}

/* =========================
   COMPONENTES
========================= */
@layer components {

    .label-input-basic {
        @apply text-[11px] tracking-widest text-[#4B5563] uppercase font-semibold;
    }

    .input-basic {
        @apply w-full h-11.5 p-2 box-border rounded-lg border border-[#D1D5DB] bg-white text-sm text-[#111827] placeholder-[#6B7280] shadow-sm transition;
        @apply focus:border-[#2CAA2C] focus:ring-2 focus:ring-[#2CAA2C]/25 focus:outline-none;
    }

    .input-basic:hover {
        @apply border-[#9CA3AF];
    }

    .input-error {
        @apply absolute left-0 right-0 bottom-0 h-11.5 p-2 leading-6 box-border rounded-lg border border-red-500/40 bg-red-50 text-xs font-semibold text-red-600 shadow-lg z-50;
    }

    .alert { @apply relative w-full rounded-lg border px-4 py-3 text-sm shadow-md flex items-start gap-3; }
    .alert-success { @apply border-[#2CAA2C]/30 bg-[#2CAA2C]/10 text-[#1E7F1E]; }
    .alert-danger { @apply border-red-500/30 bg-red-50 text-red-700; }
    .alert-warning { @apply border-amber-500/30 bg-amber-50 text-amber-700; }
    .alert-info { @apply border-[#2CAA2C]/30 bg-white text-[#2CAA2C]; }
}

/* =========================
   UTILITIES
========================= */
@layer utilities {

    .loading-input::after {
        @apply content-[''] absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 border-2 border-[#2CAA2C]/60 border-t-transparent rounded-full animate-spin;
    }

    .loading-box-card::before,
    .loading-box-modal::before {
        content: '';
        @apply absolute inset-0 z-50 bg-black/20 rounded-xl;
    }

    .loading-box-card::after,
    .loading-box-modal::after {
        content: '•••';
        @apply absolute inset-0 z-50 flex items-center justify-center text-[#2CAA2C] text-2xl tracking-[0.4em] font-semibold;
        animation: loadingDots 1.4s ease-in-out infinite;
    }

    .string-truncate {
        @apply relative overflow-hidden whitespace-nowrap text-[#111827];
    }
    .string-truncate::after {
        @apply content-[''] absolute right-0 top-0 h-full w-8 bg-linear-to-l from-white to-transparent;
    }
}

@keyframes loadingDots {
    0%,20%{content:'•     '}
    40%{content:'• •   '}
    60%{content:'• • •'}
    80%,100%{content:'      '}
}
